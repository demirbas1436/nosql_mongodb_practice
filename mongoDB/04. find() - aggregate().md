# find() - aggregate()

MongoDBâ€™de `find()` ve `aggregate()` fonksiyonlarÄ± farklÄ± veri yapÄ±larÄ± kullanÄ±r.  
Bu fark, **neden biri `{}` diÄŸeri `[]` ile baÅŸlÄ±yor** sorusunun cevabÄ±dÄ±r.

---

## ğŸ” find() neden `{}` (sÃ¼slÃ¼ parantez) ile baÅŸlar?

### ğŸ“Œ AÃ§Ä±klama
`find()` fonksiyonu **tek bir sorgu filtresi** alÄ±r.  
Bu filtre **bir JSON nesnesidir (document)**.

```js
db.collection.find(filter)
```

---

### ğŸ§ª Ã–rnek

```js
db.students.find({ city: "Ä°stanbul" })
```

Bu Ã¶rnekte:

- `{ city: "Ä°stanbul" }` â†’ tek bir sorgu kriteri
- `{}` â†’ alanâ€“deÄŸer Ã§iftlerini tutan JSON nesnesi
- AnlamÄ±: *Åehri Ä°stanbul olan Ã¶ÄŸrencileri getir*

---

### ğŸ§  Ã–zet
- `find()` â†’ tek filtre
- Filtre â†’ JSON nesnesi
- Bu yÃ¼zden `{}` kullanÄ±lÄ±r

---

## ğŸ”„ aggregate() neden `[]` (kÃ¶ÅŸeli parantez) ile baÅŸlar?

### ğŸ“Œ AÃ§Ä±klama
`aggregate()` fonksiyonu bir **pipeline (iÅŸlem hattÄ±)** Ã§alÄ±ÅŸtÄ±rÄ±r.

Pipeline:
- Birden fazla **aÅŸamadan (stage)** oluÅŸur
- AÅŸamalar **sÄ±rayla** Ã§alÄ±ÅŸÄ±r
- Bu yÃ¼zden **dizi (array)** kullanÄ±lÄ±r

```js
db.collection.aggregate([ stage1, stage2, stage3 ])
```

---

### ğŸ§ª Ã–rnek

```js
db.students.aggregate([
  { $match: { city: "Ä°stanbul" } },
  { $group: { _id: "$passed", avgScore: { $avg: "$score" } } }
])
```

Bu Ã¶rnekte:

- `[]` â†’ pipeline aÅŸamalarÄ±nÄ±n sÄ±rasÄ±nÄ± tutar
- `{ $match: ... }` â†’ 1. aÅŸama (filtreleme)
- `{ $group: ... }` â†’ 2. aÅŸama (gruplama)

---

### ğŸ” YapÄ± MantÄ±ÄŸÄ±

```text
[]  â†’ aÅŸamalarÄ±n sÄ±rasÄ±nÄ± tutar (pipeline)
{}  â†’ her aÅŸamanÄ±n ayarlarÄ±nÄ± tanÄ±mlar
```

---

## ğŸ“Š KarÅŸÄ±laÅŸtÄ±rma Tablosu

| Ã–zellik | find() | aggregate() |
|------|-------|-------------|
| BaÅŸlangÄ±Ã§ | `{}` | `[]` |
| YapÄ± | Tek JSON nesnesi | JSON nesneleri dizisi |
| AmaÃ§ | Basit sorgulama | GeliÅŸmiÅŸ veri iÅŸleme |
| AÅŸamalar | Yok | Birden fazla (`$match`, `$group`, `$sort`â€¦) |

---

## âœ… KÄ±sa Ã–zet

- **find()** â†’ tek JSON nesnesi alÄ±r â†’ `{}`  
- **aggregate()** â†’ pipeline alÄ±r (dizi) â†’ `[]`  
